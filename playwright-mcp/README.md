# Playwright MCP Tests

Automated test cases for [generatedata.com](https://generatedata.com) that select various data types and generate JSON output.

## Prompt Used

These tests were generated by an AI agent using the Playwright MCP server with the following prompt:

> Use the Playwright MCP server to write test cases that:
> 1. Navigate to https://generatedata.com/
> 2. Select various data types (name, phone, email, etc.)
> 3. Always use JSON as the output format

---

## Setup

### 1. Install dependencies

```bash
cd playwright-mcp
npm install
```

### 2. Install Playwright browsers

```bash
npx playwright install chromium
```

## Running Tests

```bash
# Run tests in headless mode
npm test

# Run tests with browser visible
npm run test:headed

# Run tests with Playwright UI
npm run test:ui
```

---

## Test Cases

These are **smoke tests** that verify the UI workflow of generatedata.com works correctly. They confirm the happy path completes without errors but do not download or validate the actual generated data.

| Test | What it does |
|------|--------------|
| **Names** | Selects "Names" data type, verifies JSON preview shows `"name":` field, generates data, confirms success message |
| **Email** | Selects "Email" data type, verifies JSON format is selected, generates data, confirms success message |
| **Phone** | Selects "Phone / Fax" data type, verifies JSON format is selected, generates data, confirms success message |
| **Multiple fields** | Selects Names, Email, and Phone for three rows, verifies all fields appear in JSON preview (`"name":`, `"email":`, `"phone":`), generates data, confirms success message |
| **Country** | Selects "Country" data type from Geo section, generates data, confirms success message |
| **Street Address** | Selects "Street Address" data type from Geo section, generates data, confirms success message |
| **Custom row count** | Selects "Names" data type, changes row count from 100 to 50 in the generate dialog, generates data, confirms success message |
| **Currency** | Selects "Currency" data type from Financial section, generates data, confirms success message |
| **GUID** | Selects "GUID" data type from Numeric section, generates data, confirms success message |
| **Date** | Selects "Date" data type from Human Data section, generates data, confirms success message |

### What each test does step-by-step:

1. Navigates to `https://generatedata.com/generator`
2. Handles cookie consent popup if it appears
3. Clicks the "Select..." dropdown for a row
4. Selects a data type from the menu
5. Verifies the JSON format button is visible (default format)
6. Clicks the "Generate" button
7. Confirms the generate dialog appears
8. Clicks "Generate" in the dialog
9. Verifies the "Data generated." success message appears

---

## MCP Server Configuration

### Claude Code

To use the Playwright MCP server with Claude Code, add it to your Claude Code settings file (`~/.claude/settings.json`):

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["@anthropic-ai/mcp-server-playwright"]
    }
  }
}
```

Alternatively, you can use the official Playwright MCP package:

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["@playwright/mcp@latest"]
    }
  }
}
```

After adding the configuration, restart Claude Code for the changes to take effect.

### GitHub Copilot

**No configuration needed.** GitHub Copilot's coding agent comes with the Playwright MCP server pre-configured by default. It provides web page interaction capabilities including reading, interacting with, and taking screenshots of web content.

See: [MCP and the coding agent - Default MCP servers](https://docs.github.com/en/copilot/concepts/agents/coding-agent/mcp-and-coding-agent#default-mcp-servers)

---

## Project Structure

```
playwright-mcp/
├── test.ts              # Test cases
├── playwright.config.ts # Playwright configuration
├── package.json         # Project dependencies
├── playwright-report/   # HTML test reports (generated)
└── test-results/        # Failed test artifacts (generated)
```
